---
import { getCollection } from 'astro:content';
// Component Imports
import CallToAction from '../components/CallToAction.astro';
// Page section components
import ContactCTA from '../components/ContactCTA.astro';
import Grid from '../components/Grid.astro';
import Hero from '../components/Hero.astro';
import Icon from '../components/Icon.astro';
import Pill from '../components/Pill.astro';
import PortfolioPreview from '../components/PortfolioPreview.astro';
import Skills from '../components/Skills.astro';
// Layout import — provides basic page elements: <head>, <nav>, <footer> etc.
import BaseLayout from '../layouts/BaseLayout.astro';

// Content Fetching: List four most recent work projects (unused after personal content update)
// const oldProjects = (await getCollection('work'))
// 	.sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
// 	.slice(0, 4);

// Academic Research data
const academicResearch = [
	{
		id: 'social-media-stock',
		data: {
			title: 'Social Media Impact on Stock Market Analysis',
			img: 'https://wendy7756.github.io/my-research/pic-socialmedia.png',
			img_alt: 'Social Media Stock Market Research',
			url: 'https://wendy7756.github.io/my-research/socialmedia.html'
		}
	},
	{
		id: 'lake-baikal-research',
		data: {
			title: 'Sino-Russian Lake Baikal Geoscience Expedition',
			img: 'https://wendy7756.github.io/my-research/pic-lake.png',
			img_alt: 'Lake Baikal Geoscience Research',
			url: 'https://wendy7756.github.io/my-research/lakebaikal.html'
		}
	}
];

// Open-Source Projects data
const openSourceProjects = [
	{
		id: 'context-space',
		data: {
			title: 'Context Space',
			description: 'Tool-first Context Engineering Infrastructure for AI applications',
			img: '/ospics/contextspace.png',
			img_alt: 'Context Space',
			url: 'https://context.space'
		}
	},
	{
		id: 'ai-asset-allocation',
		data: {
			title: 'Fintech',
			description: 'AI-powered asset allocation system for intelligent portfolio optimization',
			img: '/ospics/fintech.png',
			img_alt: 'AI Asset Allocation System',
			url: 'https://github.com/wendy7756/AI-Asset-allocation'
		}
	},
	{
		id: 'follownet-analyzer',
		data: {
			title: 'FollowNet',
			description: 'Analyze Competitors’ Followers Across Social Media',
			img: '/ospics/follownet.png',
			img_alt: 'FollowNet Analytics Tool',
			url: 'https://github.com/wendy7756/FollowNet'
		}
	},
	{
		id: 'travel-guide',
		data: {
			title: 'Travel Guide',
			description: 'Beautiful China travel guide website showcasing destinations and cultural experiences',
			img: '/ospics/travel.jpg',
			img_alt: 'China Travel Guide Website',
			url: 'https://www.localtravelguide.fun'
		}
	}
];

// iOS Apps data (按你要求的顺序排列)
const iosApps = [
	{
		id: 'three-pages-daily',
		title: '3 Pages Daily',
		description: 'Minimal Daily Journal',
		img: 'https://is2-ssl.mzstatic.com/image/thumb/PurpleSource211/v4/7c/0a/48/7c0a48c6-4536-5064-03ff-91f77e05f6af/8.png/0x0ss.png',
		url: 'https://apps.apple.com/us/app/3-pages-daily-minimal-journal/id6744717008'
	},
	{
		id: 'mirrorcam',
		title: 'Mirrorcam',
		description: 'Reference Camera Tool',
		img: 'https://is2-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/48/7a/f4/487af4ef-68ed-086a-ad9f-3a64310a5f9f/15.png/0x0ss.png',
		url: 'https://apps.apple.com/us/app/mirrorcam-reference-camera/id6745373013'
	},
	{
		id: 'newsmood',
		title: 'Newsmood',
		description: 'AI Sentiment Analysis',
		img: 'https://is2-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/bd/36/fa/bd36fab3-6597-6031-7e20-4ec74f4a4537/5.png/0x0ss.png',
		url: 'https://apps.apple.com/us/app/newsmood-ai-news-sentiment/id6744967206'
	},
	{
		id: 'ai-coverletter',
		title: 'AI CV Maker',
		description: 'Smart Job Applications',
		img: 'https://is2-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/d2/33/a2/d233a228-6fc6-94c3-17c4-e55718a9de70/app-2.png/0x0ss.png',
		url: 'https://apps.apple.com/us/app/ai-cover-letter-maker/id6744460792'
	},
	{
		id: 'ai-resume',
		title: 'Resume Revise',
		description: 'AI Resume Builder',
		img: 'https://is2-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/be/e9/d0/bee9d08e-ea56-7f3b-ac4d-d3d8f3d29449/1.png/0x0ss.png',
		url: 'https://apps.apple.com/us/app/ai-resume-revise/id6744333973'
	},
	{
		id: 'please-dont',
		title: 'Please Don\'t',
		description: 'Display Visual Messages',
		img: 'https://is2-ssl.mzstatic.com/image/thumb/PurpleSource221/v4/92/7b/b4/927bb421-5cc0-3df3-66c5-ecf496b27c5b/Simulator_Screenshot_-_iPhone_16_Pro_Max_-_2025-04-30_at_11.23.52.png/0x0ss.png',
		url: 'https://apps.apple.com/us/app/please-dont-display-messages/id6744848735'
	}
];



// Full Astro Component Syntax:
// https://docs.astro.build/basics/astro-components/
---

<BaseLayout 
	title="About Wendy - Resume Designer & Full-Stack Developer" 
	description="Meet Wendy, the creator of ResumeLink. Full-stack developer, product designer, and published author passionate about helping people showcase their skills."
	keywords="wendy,about,resume designer,developer,full-stack,product designer,creator,tech blogger"
>
	<div class="stack gap-20 lg:gap-48">
		<div class="wrapper stack gap-8 lg:gap-20">
			<header class="hero">
				<div class="hero-content">
					<Hero
						title="Hi, this is Wendy"
						tagline="A full-stack creator who transforms ideas into real products by blending product sense, technical execution, and data-driven growth."
						align="start"
					/>

					<!-- All tags in unified structure -->
					<div class="all-tags">
						<div class="main-roles">
							<Pill><Icon icon="code" size="1.33em" /> Developer</Pill>
							<Pill><Icon icon="strategy" size="1.33em" /> Product Designer</Pill>
							<Pill><Icon icon="pencil-line" size="1.33em" /> Creator</Pill>
						</div>
						<div class="achievement-tags">
							<Pill><Icon icon="pencil-line" size="1.33em" /> Published author on Jinjiang Literature City with 3 completed novels</Pill>
							<Pill><Icon icon="microphone-stage" size="1.33em" /> Veteran Film critic with over 10,000 followers on Douban.</Pill>
							<a href="https://blog.csdn.net/weixin_43886356" target="_blank" rel="noopener noreferrer" class="pill-link">
								<Pill><Icon icon="trophy" size="1.33em" /> Tech blogger on CSDN with over 10,000 followers</Pill>
							</a>
						</div>
					</div>
				</div>

				<img
					alt="wendy - Resume Template Designer & Developer"
					width="480"
					height="620"
					src="/about/profile.jpg"
				/>
			</header>

			<Skills />
		</div>

		<main class="wrapper stack gap-20 lg:gap-48">
			<section class="section with-background with-cta open-source-section">
				<header class="section-header stack gap-2 lg:gap-4">
					<h3>Open-Source Projects<br/>and Websites</h3>
					<p>A portfolio of innovative open-source projects in AI infrastructure, fintech, competitor analytics, and cultural tourism — developed to solve problems, scale impact, and contribute to the community.</p>
				</header>
				<div class="gallery">
					<Grid variant="offset">
                        {
                            openSourceProjects.map((project) => (
                                <li class="work-item">
                                    {project.id === 'context-space' && (
                                        <div class="inline-tech-badges">
                                            <span class="tech-badge">#Python</span>
                                            <span class="tech-badge">#Javascript</span>
                                            <span class="tech-badge">#Typescript</span>
                                            <span class="tech-badge">#SQL</span>
                                            <span class="tech-badge">#CSS</span>
                                        </div>
                                    )}
									<a href={project.data.url} target="_blank" rel="noopener noreferrer" class="project-card-link">
										<div class="card">
											<img src={project.data.img} alt={project.data.img_alt || ''} loading="lazy" decoding="async" />
										</div>
										<p class="project-description">{project.data.description}</p>
									</a>
								</li>
							))
						}
					</Grid>
				</div>
			</section>
		</main>

		<section class="section with-background ios-apps-section">
			<div class="wrapper">
				<header class="section-header stack gap-2 lg:gap-4 center-header">
					<h3>My Self-built iOS Apps</h3>
					<p>I independently developed and launched six iOS applications that succeeded in a competitive market. Each app achieved over 2,000 impressions and 50+ downloads—a direct result of effective App Store Optimization (ASO) and a user-centric design approach.</p>
				</header>
				<div class="ios-apps-grid">
					{
						iosApps.map((app) => (
							<a href={app.url} target="_blank" rel="noopener noreferrer" class="app-card-link">
								<div class="app-card">
									<div class="app-image-container">
										<img src={app.img} alt={`${app.title} app icon`} class="app-image" loading="lazy" decoding="async" />
									</div>
									<div class="app-info">
										<h4 class="app-title">{app.title}</h4>
										<p class="app-description">{app.description}</p>
									</div>
								</div>
							</a>
						))
					}
				</div>
			</div>
		</section>

		<!-- Academic Research Section -->
		<main class="wrapper stack gap-8 lg:gap-16">
			<section class="section with-background academic-research-section">
				<header class="section-header stack gap-2 lg:gap-4">
					<h3>Academic Research</h3>
					<p>Interdisciplinary research at the intersection of economics, technology, and industry, applying advanced data analytics, economic modeling, and geospatial methods to generate insights that bridge academic rigor with practical decision-making.</p>
				</header>
				<div class="gallery">
					<Grid>
						{
							academicResearch.map((research) => (
								<li class="work-item">
									<a href={research.data.url} target="_blank" rel="noopener noreferrer" class="research-card-link">
										<div class="card">
											<img src={research.data.img} alt={research.data.img_alt || ''} loading="lazy" decoding="async" />
										</div>
									</a>
								</li>
							))
						}
					</Grid>
				</div>
			</section>
		</main>

		<ContactCTA />
	</div>

</BaseLayout>

<style>
	.hero {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
	}

	.hero img {
		aspect-ratio: 5 / 4;
		object-fit: cover;
		object-position: top;
		border-radius: 1.5rem;
		box-shadow: var(--shadow-md);
	}

	/* Unified tags structure */
	.all-tags {
		display: none;
	}

	@media (min-width: 50em) {
		.hero {
			display: grid;
			grid-template-columns: 6fr 4fr;
			padding-inline: 2.5rem;
			gap: 3.75rem;
		}

		.hero-content {
			display: flex;
			flex-direction: column;
		}

		.hero img {
			aspect-ratio: 3 / 4;
			border-radius: 4.5rem;
			object-fit: cover;
		}

		.all-tags {
			display: block;
			margin-top: 1.5rem;
		}

		.main-roles {
			display: flex;
			flex-wrap: wrap;
			gap: 0.75rem;
			margin-bottom: 0.75rem;
		}

		.achievement-tags {
			display: flex;
			flex-wrap: wrap;
			gap: 0.75rem;
		}

		.pill-link {
			text-decoration: none;
			color: inherit;
			transition: opacity 0.2s ease;
		}

		.pill-link:hover {
			opacity: 0.8;
		}
	}

	/* ====================================================== */
	/* iOS Apps Section */
	
	.ios-apps-section {
		margin-top: 2rem;
		width: 100%; /* 与 wrapper 对齐 */
		display: block !important;
	}

	.ios-apps-section .section-header {
		text-align: center !important;
		justify-self: center;
		align-self: center;
		width: 100%;
		max-width: none !important;
		margin-bottom: 3rem;
	}

	/* 大屏幕上增加更多间距 */
	@media (min-width: 50em) {
		.ios-apps-section .section-header {
			margin-bottom: 4rem;
		}

		.ios-apps-section .section-header h3 {
			margin: 0 auto 2rem auto !important;
		}

		.ios-apps-grid {
			padding: 0; /* 桌面端移除padding */
		}
	}

	.ios-apps-section .section-header h3 {
		text-align: center !important;
		margin: 0 auto 1.5rem auto !important;
		width: 100% !important;
		line-height: 1.1;
	}

	.ios-apps-section .section-header p {
		text-align: center !important;
		margin: 0 auto !important;
		width: 100% !important;
	}

	.ios-apps-grid {
		display: flex;
		flex-wrap: wrap;
		gap: 1rem 0.75rem; /* 更紧凑的卡片间距 */
		margin: 2rem 0 0 0;
		justify-content:space-between ; /* 居中分摊左右剩余空间 */
		align-items: flex-start;
		width: 100%;
		padding: 0; /* 由 wrapper 控制左右边距 */
	}

	.app-card-link {
		text-decoration: none;
		color: inherit;
		transition: transform 0.2s ease;
	}

	.app-card-link:hover {
		transform: translateY(-4px);
	}

	.app-card {
		text-align: center;
		transition: transform 0.2s ease;
		height: 100%;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: flex-start;
		width: 150px;
		flex-shrink: 0;
	}

	.app-image-container {
		border-radius: 20px;
		overflow: hidden;
		margin: 0 auto 0.75rem auto;
		box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		width: 100%;
		max-width: 180px;
		aspect-ratio: 215 / 466;
		display: block;
	}

	.app-image {
		width: 100%;
		height: 100%;
		border-radius: 20px;
		display: block;
		object-fit: cover;
	}

	.app-info {
		flex: 1;
		display: flex;
		flex-direction: column;
		justify-content: center;
	}

	.app-title {
		font-size: var(--text-lg);
		font-weight: 600;
		color: var(--gray-0);
		margin: 0 0 0.5rem 0;
		line-height: 1.2;
		text-align: center;
	}

	.app-description {
		font-size: var(--text-sm);
		color: var(--gray-400);
		margin: 0;
		line-height: 1.4;
		text-align: center;
	}

	/* 超大屏幕：支持6个应用一行 */
	@media (min-width: 100em) {
		.ios-apps-grid {
			gap: 2rem 1.25rem; /* 减小横向间距 */
			padding: 0; /* 超大屏移除padding */
		}
		.app-card {
			width: 180px;
		}
		.app-image-container {
			max-width: 180px;
		}
	}

	/* 大屏幕：微调间距和容器尺寸，支持6个应用 */
	@media (min-width: 80em) and (max-width: 99.99em) {
		.ios-apps-grid {
			gap: 1.75rem 1rem; /* 更紧凑 */
		}
		.app-card {
			width: 170px;
		}
		.app-image-container {
			max-width: 170px;
		}
	}

	/* 桌面端：标准布局，支持5个应用 */
	@media (min-width: 60em) and (max-width: 79.99em) {
		.ios-apps-grid {
			gap: 1.6rem 0.9rem; /* 更紧凑 */
		}
		.app-card {
			width: 155px;
		}
		.app-image-container {
			max-width: 155px;
		}
	}

	/* 中等屏幕：紧凑布局 */
	@media (min-width: 48em) and (max-width: 59.99em) {
		.ios-apps-grid {
			gap: 1.4rem 0.8rem; /* 更紧凑 */
		}
		.app-card {
			width: 150px;
		}
		.app-image-container {
			max-width: 160px;
		}
	}

	/* 平板端：优化间距 */
	@media (max-width: 47.99em) and (min-width: 36em) {
		.ios-apps-grid {
			gap: 1.5rem 1rem;
		}
		.app-card {
			width: 140px;
		}
		.app-image-container {
			max-width: 150px;
		}
	}

	/* 手机端：最小间距 */
	@media (max-width: 35.99em) {
		.ios-apps-grid {
			gap: 1rem 0.6rem; /* 更紧凑 */
		}
		.app-card {
			width: 130px;
		}
		.app-image-container {
			max-width: 140px;
		}
	}

	/* ====================================================== */

	.section {
		display: grid;
		gap: 2rem;
	}

	.with-background {
		position: relative;
	}

	.with-background::before {
		--hero-bg: var(--bg-image-subtle-2);

		content: '';
		position: absolute;
		pointer-events: none;
		left: 50%;
		width: 100vw;
		aspect-ratio: calc(2.25 / var(--bg-scale));
		top: 0;
		transform: translateY(-75%) translateX(-50%);
		background:
			var(--hero-bg) center center / var(--bg-gradient-size) no-repeat,
			var(--gray-999);
		background-blend-mode: normal, normal;
		mix-blend-mode: var(--bg-blend-mode);
		z-index: -1;
	}

	.with-background.bg-variant::before {
		--hero-bg: var(--bg-image-subtle-1);
	}

	.section-header {
		justify-self: center;
		text-align: center;
		max-width: 50ch;
		font-size: var(--text-md);
		color: var(--gray-300);
	}

	.section-header h3 {
		font-size: var(--text-2xl);
	}

	@media (min-width: 50em) {
		.section {
			grid-template-columns: repeat(4, 1fr);
			grid-template-areas: 'header header header header' 'gallery gallery gallery gallery';
			gap: 5rem;
		}

		.section.with-cta {
			grid-template-areas: 'header header header cta' 'gallery gallery gallery gallery';
		}

		.section-header {
			grid-area: header;
			font-size: var(--text-lg);
		}

		.section-header h3 {
			font-size: var(--text-4xl);
		}

		.with-cta .section-header {
			justify-self: flex-start;
			text-align: left;
		}

		.gallery {
			grid-area: gallery;
		}

		.cta {
			grid-area: cta;
		}
	}

	/* ====================================================== */

	.mention-card {
		display: flex;
		height: 7rem;
		justify-content: center;
		align-items: center;
		text-align: center;
		border: 1px solid var(--gray-800);
		border-radius: 1.5rem;
		color: var(--gray-300);
		background: var(--gradient-subtle);
		box-shadow: var(--shadow-sm);
	}

	@media (min-width: 50em) {
		.mention-card {
			border-radius: 1.5rem;
			height: 9.5rem;
		}
	}

	/* ====================================================== */
	/* Card styles for work and project experience */
	
	.work-item {
		transition: opacity var(--theme-transition);
	}

	.card {
		display: grid;
		grid-template: auto 1fr / auto 1fr;
		height: 11rem;
		background: var(--gradient-subtle);
		border: 1px solid var(--gray-800);
		border-radius: 0.75rem;
		overflow: hidden;
		box-shadow: var(--shadow-sm);
		text-decoration: none;
		font-family: var(--font-brand);
		font-size: var(--text-lg);
		font-weight: 500;
		transition: box-shadow var(--theme-transition);
		cursor: pointer;
	}

	.card:hover {
		box-shadow: var(--shadow-md);
	}

	.card .title {
		grid-area: 1 / 1 / 2 / 2;
		z-index: 1;
		margin: 0.5rem;
		padding: 0.5rem 1rem;
		background: var(--gray-999);
		color: var(--gray-200);
		border-radius: 0.375rem;
	}

	.card img {
		grid-area: 1 / 1 / 3 / 3;
		width: 100%;
		height: 100%;
		object-fit: cover;
	}

	@media (min-width: 50em) {
		.card {
			height: 22rem;
			border-radius: 1.5rem;
		}

		.card .title {
			border-radius: 0.9375rem;
		}
	}

	/* ====================================================== */
	/* Open-Source Projects Section */
	
	.open-source-section {
		gap: 2rem !important;
	}
	
	.open-source-section .section-header {
		max-width: 70ch !important;
		margin-bottom: 1rem !important;
	}
	
	.open-source-section .gallery {
		margin-top: 0 !important;
	}

	/* Inline badges for first card only; absolute positioned to fill existing blank space */
	.open-source-section .work-item { position: relative; }
    .inline-tech-badges {
        position: absolute;
        top: -1.5rem; /* mobile default: move up slightly */
		left: 0;
		display: flex;
		gap: 0.5rem;
		z-index: 1;
	}
	@media (min-width: 50em) {
        .inline-tech-badges { top: calc(-1 * var(--row-offset) - 0.5rem); }
	}

	.tech-badge {
		background: var(--gray-999);
		color: var(--accent-regular);
		border: 1px solid var(--accent-regular);
		padding: 0.25rem 0.6rem;
		border-radius: 999px;
		font-size: var(--text-sm);
		line-height: 1;
		white-space: nowrap;
	}
	
	@media (min-width: 50em) {
		.open-source-section {
			gap: 3rem !important;
		}
		
		.open-source-section .section-header {
			max-width: 80ch !important;
			margin-bottom: 1.5rem !important;
		}

		/* Make left column (odd items) sit higher by reducing the staggered row offset */
		.open-source-section .gallery :global(.grid.offset) {
			--row-offset: 3.5rem;
		}
	}
	
	.project-card-link {
		display: block;
		text-decoration: none;
		color: inherit;
	}

	.project-card-link .card {
		cursor: pointer;
		transition: transform 0.2s ease, box-shadow 0.2s ease;
	}

	.project-card-link:hover .card {
		transform: translateY(-2px);
		box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
	}

	.project-description {
		color: var(--gray-400);
		font-size: var(--text-sm);
		margin: 0.75rem 0 0 0;
		line-height: 1.4;
		text-align: center;
	}



	.project-card-link .title {
		color: var(--accent-regular);
	}

		/* ====================================================== */
	/* Academic Research Section */

	/* 覆盖外层 main container 的 gap */
	.wrapper.stack > .academic-research-section {
		margin-top: -3rem !important; /* 减少上边距 */
	}

	.academic-research-section .section-header {
		margin-bottom: 1.5rem !important;
		max-width: none !important;
		width: 100% !important;
		margin-left: auto !important;
		margin-right: auto !important;
		text-align: center !important;
		justify-self: stretch !important;
	}
	
	/* 确保section-header的子元素也居中 */
	.academic-research-section .section-header h3,
	.academic-research-section .section-header p {
		text-align: center !important;
		max-width: none !important;
		width: 100% !important;
	}
	
	/* 覆盖with-cta类的默认样式 */
	.academic-research-section.with-cta .section-header {
		justify-self: center !important;
		text-align: center !important;
		max-width: none !important;
	}
	
	/* 增加标题和描述之间的距离 */
	.academic-research-section .section-header.stack {
		gap: 1.5rem !important;
	}
	
	/* 在大屏幕上增加更多间距 */
	@media (min-width: 50em) {
		.academic-research-section .section-header.stack {
			gap: 2rem !important;
		}
	}

	.academic-research-section .gallery {
		margin-top: 0 !important;
	}

	/* 收紧section内部的间距 */
	.academic-research-section.section {
		gap: 1.5rem !important;
	}
	
	/* 收紧卡片之间的间距 */
	.academic-research-section .gallery .grid {
		gap: 1.25rem !important;
	}

	/* 取消Academic Research卡片的offset错位效果，让两个卡片水平对齐 */
	.academic-research-section .grid.offset > :global(:nth-child(odd)) {
		transform: none !important;
	}

	.academic-research-section .grid.offset {
		--row-offset: 0rem !important;
		padding-bottom: 0 !important;
	}

	/* 更强的选择器优先级来确保水平对齐 */
	.academic-research-section .gallery .grid.offset > :global(:nth-child(odd)) {
		transform: translateY(0) !important;
	}

	@media (min-width: 50em) {
		.academic-research-section .gallery .grid.offset > :global(:nth-child(odd)) {
			transform: translateY(0) !important;
		}
		
		.academic-research-section .gallery .grid.offset {
			--row-offset: 0rem !important;
			padding-bottom: 0 !important;
		}
	}

	.research-card-link {
		display: block;
		text-decoration: none;
		color: inherit;
		transition: transform 0.2s ease, box-shadow 0.2s ease;
	}

	.research-card-link:hover {
		transform: translateY(-2px);
		box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
	}

	.research-card-link .card {
		cursor: pointer;
	}

	.research-card-link .title {
		color: var(--accent-regular);
	}
</style>